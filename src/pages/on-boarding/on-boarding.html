<ion-content>
  <ion-grid style="margin-top: 10px; text-align: center;">
    <ion-row class="top-row" *ngIf="buttonClicked">
      <ion-col col-3 class="back-arrow above-map" (tap)="onButtonClick()">
        <img src="assets/icon/custom/back_arrow.png" alt="">
      </ion-col>
    </ion-row>
    <ion-row class="align-things-center">
      <profile-image [src]="imgURL"></profile-image>
    </ion-row>
    <div class="row" (click)="presentModal()">
      <span>Change Photo</span>
    </div>
  </ion-grid>
  <!-- Step 1 -->
  <ion-grid *ngIf="!buttonClicked">
    <div class="row">
      <ion-item class="item">
        <ion-label class="name" stacked>
          Name
        </ion-label>
        <ion-input type="text" [(ngModel)]="user.name" [class.err]="!user.name && formSubmitted" placeholder="Enter full name"></ion-input>
      </ion-item>
      <ion-item class="item">
        <ion-label class="name" stacked>
          Zipcode (Required)
        </ion-label>
        <ion-input type="number" [(ngModel)]="user.zipcode" [class.err]="!user.zipcode && formSubmitted" placeholder="Enter zipcode">
        </ion-input>
      </ion-item>
      <ion-item class="item">
        <ion-label class="name" stacked>
          Number (Required)
        </ion-label>
        <ion-input type="number" [(ngModel)]="user.phone" [class.err]="!user.phone && formSubmitted" placeholder="+xx(xxx)-xxxx">
        </ion-input>
      </ion-item>
      <ion-item class="abt">
        <ion-label class="about" stacked>
          Some thing about you?
        </ion-label>
        <ion-textarea [(ngModel)]="user.about" rows="6" [class.err]="!user.about && formSubmitted" placeholder="e.g. your life style, the sustainable movement you care about...">
        </ion-textarea>
      </ion-item>
    </div>
    <p class="info">
      <ion-icon ios="ios-information-circle" md="md-information-circle"></ion-icon>
      Your personal information will be kept strictly confidential and will not be sold or reused.
    </p>
    <button ion-button round (click)="nextPage()" class="align-things-center save next-button">
      Save!
    </button>
  </ion-grid>
  <!-- Step 2 -->
  <ion-grid *ngIf="buttonClicked">
    <div class="row">
      <ion-item class="item">
        <ion-label class="name" stacked>
          Username
        </ion-label>
        <ion-input type="text" [(ngModel)]="user.userName" placeholder="Enter username"></ion-input>
      </ion-item>
      <p class="follow-text" *ngIf="buttonClick && flag">{{message}}</p>
      <p class="follow-text" *ngIf="buttonClick && !flag">{{message}}</p>
      <button round ion-button block (click)="checkUsername()" *ngIf="flag" class="align-things-center next-button">
        Check Availibility
      </button>
      <button round ion-button block (click)="submit()" *ngIf="!flag" class="align-things-center next-button">
        Save!
      </button>
    </div>
  </ion-grid>
</ion-content>
