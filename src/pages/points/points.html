<ion-content padding>
  <ion-grid>
    <ion-row class="top-row">
      <ion-col col-3 class="back-arrow above-map" (tap)="prevStep()">
        <img src="assets/icon/custom/back_arrow.png" alt="">
      </ion-col>
    </ion-row>
    <ion-row class="align-things-center" *ngIf="flag">
      <ion-col col-12>
        <div class="main-spinner"></div>
      </ion-col>
    </ion-row>
    <ion-card class="points-card align-things-center" *ngIf="!flag">
      <ion-row>
        <ion-col col-3></ion-col>
        <ion-col col-6 class="align-things-center">
          <p class="points"><span class="current-point">{{ currentPoints }}</span> / {{ userLevel.endPoint }}</p>
          <div class="loader fl"></div>
          <div class="loader" [ngStyle]="{'width': (currentPoints/userLevel.endPoint)*100 + '%'}"></div>
          <p class="level">Level {{ userLevel.level }}</p>
        </ion-col>
        <ion-col col-3></ion-col>
      </ion-row>
      <img class="point-bedge" [src]="userLevel?.icon">
      <ion-card-content class="align-things-center card-details">
        <h2>{{ userLevel?.name }}</h2>
        <p>{{ userLevel?.description }}.</p>
      </ion-card-content>
    </ion-card>
    <ion-row class="levels" *ngIf="!flag">
      <ion-col col-3 class="icons" *ngFor="let item of levels">
        <div class="avatar" [ngStyle]="{'background-image': item?.level <= userLevel.level ? 'url(' + item?.icon + ')' : 'url('+ getDefaultImg() +')'}"></div>
        <h6>{{ item?.level <= userLevel.level ? item?.name : 'Level ' + item?.level }} </h6> <p>{{ item?.endPoint }}</p>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
